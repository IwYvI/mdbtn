(function(i,l,f){var o="mdbtn";var a=[],k=false,b=false;var j={elements:"mdbtn",option:{color:"#222222",pressColor:"#888888",showPressColor:false,processStep:80,},};j.setOption=function(q){for(var p in q){if(typeof(this.option[p])!=f){this.option[p]=q[p]}}};j.init=function(q,p){if(q&&typeof(q)=="string"){this.elements=q}if(p){this.setOption(p)}else{if(typeof(q)=="object"){this.setOption(q)}}this.addElements()};j.addElements=function(r){if(r&&typeof(r)=="string"){this.elements=r}var q=l.getElementsByClassName(this.elements);for(var p=0;p<q.length;p++){q[p].style.position="relative";q[p].setAttribute("style",q[p].getAttribute("style")+";overflow:hidden !important;");q[p].addEventListener("mousedown",function(s){b=true;g(s,h(s))},false);q[p].addEventListener("mouseup",function(s){b=false},false);q[p].addEventListener("mouseleave",function(s){b=false},false)}};var g=function(s,u){var p=u.dataset.color||j.option.color,v=s.layerX||s.offsetX,t=s.layerY||s.offsetY;var q=l.createElement("canvas");u.appendChild(q);q.style.width="100%";q.style.height="100%";q.style.opacity=0.25;q.style.position="absolute";q.style.borderRadius=n(u,"border-radius");q.style.top=0;q.style.left=0;q.width=q.offsetWidth;q.height=q.offsetHeight;var r=q.getContext("2d");var w=new d(p,q,r,v,t);a.push(w);if(!k){m()}};var m=function(){if(a.length>=1){k=true;for(var p=a.length-1;p>=0;p--){a[p].draw();if(a[p].isFinish){a[p].canvas.parentNode.removeChild(a[p].canvas);a.splice(p,1)}}if(!b){for(var p=0;p<a.length;p++){a[p].autoClear=true}}e(m)}else{k=false}};var e=function(){return(i.requestAnimationFrame||i.mozRequestAnimationFrame||i.oRequestAnimationFrame||i.msRequestAnimationFrame||function(p){i.setTimeout(p,1000/60)})}();var n=function(q,r){if(q.currentStyle){return q.currentStyle[r]}else{if(i.getComputedStyle){var p=r.replace(/([A-Z])/g,"-$1");p=r.toLowerCase();return l.defaultView.getComputedStyle(q,null)[r]}}return null};var h=function(r){var p=null;var q=r.target||r.srcElement;while(q.parentElement!==null){if(q.className.indexOf(j.elements)!==-1){p=q;break}q=q.parentElement}return p};var d=function(p,q,r,t,s){this.init(p,q,r,t,s)};d.prototype={init:function(p,q,r,t,s){this.color=p;this.alpha=1;this.canvas=q;this.context=r;this.centerX=t;this.centerY=s;this.radius=0;this.autoClear=false;this.shadowRadius=function(v){var u=v.centerX;if(v.centerY>u){u=v.centerY}if(v.canvas.width-v.centerX>u){u=v.canvas.width-v.centerX}if(v.canvas.height-v.centerY>u){u=v.canvas.height-v.centerY}return u}(this);this.setStep();this.isFinish=false},draw:function(){if(this.autoClear){this.setStep(10)}if(this.radius>=this.shadowRadius*Math.sqrt(2)){if(this.autoClear){this.hide();if(this.alpha<0){this.clear();this.isFinish=true}}}else{this.spread()}},spread:function(){if(j.option.showPressColor){this.context.save();this.context.fillStyle=j.option.pressColor;this.context.fillRect(0,0,this.canvas.width,this.canvas.height);this.context.restore()}this.context.save();this.context.beginPath();this.context.arc(this.centerX,this.centerY,this.radius,0,2*Math.PI,false);this.context.fillStyle=this.color;this.context.fill();this.context.restore();this.radius+=this.radiusStep},hide:function(){this.clear();this.context.save();this.context.beginPath();this.context.arc(this.centerX,this.centerY,this.radius,0,2*Math.PI,false);this.context.fillStyle=this.color.colorToRgba(this.alpha);this.context.fill();this.context.restore();this.alpha-=0.1},clear:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},setStep:function(q){var p=q||j.option.processStep;this.radiusStep=(this.shadowRadius+(this.canvas.width>this.canvas.height?this.canvas.width:this.canvas.height))/2/p>2?(this.shadowRadius+(this.canvas.width>this.canvas.height?this.canvas.width:this.canvas.height))/2/p:2}};var c=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;String.prototype.colorToHex=function(){var v=this;if(/^(rgb|RGB)/.test(v)){var q=v.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",");var p="#";for(var r=0;r<q.length;r++){if(Number(q[r])<16){var u="0"+Number(q[r]).toString(16)}else{var u=Number(q[r]).toString(16)}p+=u}if(p.length!==7){p=v}return p}else{if(c.test(v)){var t=v.replace(/#/,"").split("");if(t.length===6){return v.toString()}else{if(t.length===3){var s="#";for(var r=0;r<t.length;r+=1){s+=(t[r].toString()+t[r].toString())}return s}}}else{return v.toString()}}};String.prototype.colorToRgba=function(){var s=arguments[0]||1;var r=this.colorToHex().toLowerCase();if(r&&c.test(r)){var p=[];for(var q=1;q<7;q+=2){p.push(parseInt("0x"+r.slice(q,q+2)))}return"rgba("+p.join(",")+","+s+")"}else{return r}};i[o]=j})(window,document);